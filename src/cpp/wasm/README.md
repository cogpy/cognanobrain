# NanoBrain WebAssembly Build

Build NanoBrain for web browsers using Emscripten.

## Prerequisites

- [Emscripten SDK](https://emscripten.org/docs/getting_started/downloads.html)
- CMake 3.16+
- WASM-compiled ggml library

## Build Steps

### 1. Install Emscripten

```bash
git clone https://github.com/emscripten-core/emsdk.git
cd emsdk
./emsdk install latest
./emsdk activate latest
source ./emsdk_env.sh  # or emsdk_env.bat on Windows
```

### 2. Build ggml for WASM

```bash
cd /path/to/llama.cpp
emcmake cmake -B build-wasm
cmake --build build-wasm
```

### 3. Build NanoBrain WASM

```bash
cd src/cpp

# Rename the WASM CMake file
cp CMakeLists.wasm.txt CMakeLists.txt.bak
cp CMakeLists.wasm.txt CMakeLists.txt

# Build
emcmake cmake -B build-wasm -DGGML_WASM_PATH=/path/to/llama.cpp/build-wasm
cmake --build build-wasm

# Restore original CMakeLists
mv CMakeLists.txt.bak CMakeLists.txt
```

### 4. Deploy

Copy the output files to a web server:

```bash
cp build-wasm/nanobrain.js wasm/
cp build-wasm/nanobrain.wasm wasm/
```

### 5. Test

Start a local server:

```bash
cd wasm
python -m http.server 8080
```

Open <http://localhost:8080> in your browser.

## Usage in JavaScript

```javascript
const nb = await NanoBrain();

// Create kernel
const kernel = new nb.UnifiedKernel();
kernel.initialize();

// Create atoms
const atomId = kernel.createAtom("ConceptNode", "Cat", 0.9, 0.8);

// Get metrics
const metrics = kernel.getMetrics();
console.log("Atoms:", metrics.totalAtoms);
console.log("Consciousness:", metrics.consciousnessEmergence);

// Run processing
kernel.runCycles(10);

// Cleanup
kernel.shutdown();
```

## Exposed Classes

- `UnifiedKernel` - Main cognitive architecture
- `TimeCrystalKernel` - 11D quantum processing
- `TCTransform` - Prime-based signal analysis

## Constants

```javascript
nb.TIME_CRYSTAL_DIMENSIONS  // 11
nb.GOLDEN_RATIO            // 1.618...
nb.PI                      // 3.14159...
nb.getFundamentalPrimes()  // [2, 3, 5, 7, 11, ...]
```

## File Structure

```
wasm/
├── index.html      # Demo page
├── nanobrain.js    # Generated by Emscripten
└── nanobrain.wasm  # Compiled WebAssembly
```
